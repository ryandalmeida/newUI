<div *ngIf="!createPledgeClicked">
  <mat-card class="col-md-11" style="max-width: 95.666667%;margin: 20px;">
    <div>
        <form [formGroup]="searchForm" (ngSubmit)="searchBilling()">

            <div style="display: inline-flex;"  class="col-md-12">
              <div class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage" [class.search-formField-close]="!childMessage">
                <label class="searchForm-label space">Fund Type</label>
                <select formControlName="pledgeFundType" class="form-control" [class.ARFundType-select-open]="childMessage"
                  [class.ARFundType-select-close]="!childMessage">
                  <option value="" disabled selected>Select fund type</option>
                  <option value="Regular" selected>Regular</option>
                  <option value="Additional Contribution">Additional Contribution</option>
                </select>
              </div>
    
    
              <div  class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage" [class.search-formField-close]="!childMessage">
                <label class="searchForm-label space" style="margin-right: 10px;">Donor Name</label>
                <input formControlName="donorName" placeholder="Enter donor name" class="form-control" [class.donorName-input-open]="childMessage"
                  [class.donorName-input-close]="!childMessage">
              </div>
    
              <div class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage" [class.search-formField-close]="!childMessage">
                <label class="searchForm-label space" style=" margin-right: 11px;">Country</label>
                <select formControlName="country" class="form-control" [class.country-select-open]="childMessage"
                  [class.country-select-close]="!childMessage">
                  <option value="" disabled selected>Select country</option>
                  <option value="United States" selected>United States</option>
                  <option value="India">India</option>
                  <option value="Australia">Australia</option>
                  <option value="England">England</option>
                </select>
              </div>
    
             <!--  <div  class="col-md-3" style="display: inline-flex;" [class.search-formField-open]="childMessage" [class.search-formField-close]="!childMessage">
                <label class="searchForm-label status">Status:</label>
                <select formControlName="status" class="form-control" [class.status-select-open]="childMessage"
                  [class.status-select-close]="!childMessage">
                  <option value="New" selected>New</option>
                  <option value="Revise">Revise</option>
                  <option value="Approve">Approve</option>
                  <option value="Active">Active</option>
                </select>
              </div> -->
    
            </div>
    
            <div style="display: inline-flex;  margin-top: 10px;" class="col-md-12">
    
              <div class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage" [class.search-formField-close]="!childMessage">
                <label class="searchForm-label ar" style="margin-right: 4px;">Pledge ID</label>
                <input formControlName="pledgeId" placeholder="Enter pledge ID" class="form-control" [class.ar-input-open]="childMessage"
                  [class.ar-input-close]="!childMessage">
              </div>
    
    
             <!--  <div class="col-md-3" style="display: inline-flex;" [class.search-formField-open]="childMessage" [class.search-formField-close]="!childMessage">
                <label class="searchForm-label" style="padding-right: 7px;">Invoice No:</label>
                <input formControlName="invoice_no" class="form-control" [class.invoice_no-input-open]="childMessage"
                  [class.invoice_no-input-close]="!childMessage">
              </div> -->
    
    
    
              <div class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage" [class.search-formField-close]="!childMessage">
                <label class="searchForm-label" style="padding-right: 18px;">Start Date</label>
                <input type="date" formControlName="startDate" class="form-control"
                  [class.startDate-input-open]="childMessage" [class.startDate-input-close]="!childMessage">
              </div>
    
              <div class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage" [class.search-formField-close]="!childMessage">
                <label class="searchForm-label" style="margin-right: 10px;">End Date</label>
                <input type="date" formControlName="endDate" class="form-control" [class.endDate-input-open]="childMessage"
                  [class.endDate-input-close]="!childMessage">
              </div>
    
            </div>
    
            <div class="form-group" style="margin-top: 10px;height: 20px; margin-right: 6%;">
               
              <button type="reset" style= "  max-width: 90px;"  class="col-md-1" mat-raised-button
             [class.searchBtn-open]="childMessage" [class.searchBtn-close]="!childMessage" (click)="cancelARSearch()" >
                <i class="fa fa-times" aria-hidden="true" style="font-size: 18px;
                margin-top: -4px;
                padding-right: 7px;
                font-weight: 500;"></i>Cancel</button> 
         <button   type="submit" style= "margin-right: 15px;max-width: 90px;" class="col-md-1" 
         mat-raised-button [class.searchBtn-open]="childMessage" [class.searchBtn-close]="!childMessage">
           <i class="fa fa-search" aria-hidden="true"></i>Search</button>
       
    
    </div> 
    
            <!-- <div style="margin-top: 10px">
              <button mat-raised-button [class.searchBtn-open]="childMessage" [class.searchBtn-close]="!childMessage">
                <i class="fa fa-search" aria-hidden="true"></i>Search</button>
            </div> -->
          </form>
    </div>
  </mat-card>

  <div class="example-container mat-elevation-z8" style="margin:20px;">
    <mat-table [dataSource]="dataSource" matSort>

      <ng-container matColumnDef="select">
        <mat-header-cell *matHeaderCellDef style=" padding-left: 7px; margin-right: 12px;">
          <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()"
            [indeterminate]="selection.hasValue() && !isAllSelected()" [aria-label]="checkboxLabel()">
          </mat-checkbox>
        </mat-header-cell>
        <mat-cell *matCellDef="let row">
          <mat-checkbox (click)="$event.stopPropagation(); store();" (change)="$event ? selection.toggle(row) : null"
            [checked]="selection.isSelected(row)" [aria-label]="checkboxLabel(row)">
          </mat-checkbox>
        </mat-cell>
      </ng-container>



      <!-- Position Column -->
      <ng-container matColumnDef="pledgeId">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader"> PLEDGE ID </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.pledgeId}} </mat-cell>
      </ng-container>


      <ng-container matColumnDef="donorName">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader"> DONOR NAME </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.donorName}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="pledgeFundType">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader"> FUND TYPE </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.pledgeFundType}} </mat-cell>
      </ng-container>

      <!-- Weight Column -->
      <ng-container matColumnDef="ar_id">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader"> AR NO. </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.arId}}</mat-cell>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="amount">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader"> CREDIT </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.amount}} </mat-cell>
      </ng-container>

      <!-- Debit Column -->
      <ng-container matColumnDef="debit">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader"> DEBIT </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.debit}} </mat-cell>
      </ng-container>
        <!-- Country Column -->
      <ng-container matColumnDef="country">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader"> COUNTRY </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.country}} </mat-cell>
      </ng-container>

      <!-- Installment Column -->
      <ng-container matColumnDef="installment_no">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader"> INSTALLMENT </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.installmentNo}} </mat-cell>
      </ng-container>

      <!-- startDate Column -->
      <ng-container matColumnDef="startDate">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader"> START DATE </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.startDate}} </mat-cell>
      </ng-container>

      <!-- endDate Column -->
      <ng-container matColumnDef="endDate">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader"> END DATE </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.endDate}} </mat-cell>
      </ng-container>

      <!-- status Column -->
      <ng-container matColumnDef="status">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader"> STATUS </mat-header-cell>
        <mat-cell *matCellDef="let element" style="padding-right: 35px;"> {{element.status}} </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
    <div>
      <ul *ngIf="pager.pages && pager.pages.length" class="pagination" style="float:right; margin-right: 20px;">
        <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
          <button mat-raised-button class="paginationBtn" (click)="setPage(page)">{{page}}</button>
        </li>
        <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
          <button mat-raised-button class="paginationBtn" (click)="setPage(pager.currentPage + 1)"
            style="border: 1px solid #27aaf5;">></button>
        </li>
      </ul>
    </div>

   <!--  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons></mat-paginator> -->
  </div>
  <div style="    float: right;padding-right: 25px; margin-bottom: 10px;">
    <button mat-raised-button class="approveBtn" (click)="generateBilling()">
      <i class="fa fa-pencil" aria-hidden="true" style="
    padding-right: 5px;
    padding-bottom: 3px; font-weight: 500;
    font-size: 18px;"></i>Generate Billing</button>
  </div>
</div>