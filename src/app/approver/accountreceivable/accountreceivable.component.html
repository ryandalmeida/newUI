<div *ngIf="!isRowClicked">
  <mat-card class="col-md-11" style="max-width: 95.666667%;margin: 20px;">
    <div>
      <form [formGroup]="searchForm" (ngSubmit)="searchAR()">
        <div style="display: inline-flex;" class="col-md-12">
          <div class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage"
            [class.search-formField-close]="!childMessage">
            <label class="searchForm-label space">Fund Type</label>
            <select formControlName="pledgeFundType" class="form-control" [class.ARFundType-select-open]="childMessage"
              [class.ARFundType-select-close]="!childMessage">
              <option value="" disabled selected>Select fund type</option>
              <option value="Regular" selected>Regular</option>
              <option value="Additional Contribution">Additional Contribution</option>
            </select>
          </div>

          <div class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage"
            [class.search-formField-close]="!childMessage">
            <label class="searchForm-label space" style="margin-right: 10px;">Donor Name</label>
            <input formControlName="donorName" placeholder="Enter donor name" class="form-control"
              [class.donorName-input-open]="childMessage" [class.donorName-input-close]="!childMessage">
          </div>

          <div class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage"
            [class.search-formField-close]="!childMessage">
            <label class="searchForm-label space" style=" margin-right: 11px;">Country</label>
            <select formControlName="country" class="form-control" [class.country-select-open]="childMessage"
              [class.country-select-close]="!childMessage">
              <option value="" disabled selected>Select country</option>
              <option value="United States" selected>United States</option>
              <option value="India">India</option>
              <option value="Australia">Australia</option>
              <option value="England">England</option>
            </select>
          </div>
        </div>

        <div style="display: inline-flex;  margin-top: 10px;" class="col-md-12">
          <div class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage"
            [class.search-formField-close]="!childMessage">
            <label class="searchForm-label ar" style="margin-right: 4px;">Pledge ID</label>
            <input formControlName="pledgeId" placeholder="Enter pledge ID" class="form-control"
              [class.ar-input-open]="childMessage" [class.ar-input-close]="!childMessage">
          </div>

          <div class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage"
            [class.search-formField-close]="!childMessage">
            <label class="searchForm-label" style="padding-right: 18px;">Start Date</label>
            <input type="date" formControlName="startDate" class="form-control"
              [class.startDate-input-open]="childMessage" [class.startDate-input-close]="!childMessage">
          </div>

          <div class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage"
            [class.search-formField-close]="!childMessage">
            <label class="searchForm-label" style="margin-right: 10px;">End Date</label>
            <input type="date" formControlName="endDate" class="form-control" [class.endDate-input-open]="childMessage"
              [class.endDate-input-close]="!childMessage">
          </div>
        </div>
        <div class="form-group" style="margin-top: 10px; margin-right: 5%; margin-bottom: 0px; height: 35px;">
            <button type="reset" style="  max-width: 90px;" class="col-md-1" mat-raised-button
              [class.searchBtn-open]="childMessage" [class.searchBtn-close]="!childMessage" (click)="cancelARSearch()">
             <!--  <i class="fa fa-times" aria-hidden="true" 
                style="font-size: 18px;margin-top: -4px;padding-right: 7px; font-weight: 500;"></i> -->
              Cancel
            </button>
            <button type="submit" style="margin-left: 15px;max-width: 90px;" class="col-md-1" mat-raised-button
              [class.searchBtn-open]="childMessage" [class.searchBtn-close]="!childMessage">
             <!--  <i class="fa fa-search" aria-hidden="true"></i> -->
              Search
            </button>
          </div>
      </form>
    </div>
  </mat-card>

  <div class="example-container mat-elevation-z8" style="margin:20px;">
    <mat-table [dataSource]="dataSource" matSort>

      <!-- Pledge ID Column -->
      <ng-container matColumnDef="pledgeId">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('pledgeId')"> PLEDGE ID </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.pledgeId}} </mat-cell>
      </ng-container>

      <!--  Pledge Type Column -->
      <ng-container matColumnDef="pledgeType">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('pledgeFundType')"> FUND TYPE </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.pledgeFundType}} </mat-cell>
      </ng-container>

      <!-- Donor Name Column -->
      <ng-container matColumnDef="donorName">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('donorName')"> DONOR NAME </mat-header-cell>
        <mat-cell *matCellDef="let element" style="text-transform: capitalize"> {{element.donorName}} </mat-cell>
      </ng-container>

      <!-- Country Column -->
      <ng-container matColumnDef="country">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('country')"> COUNTRY </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.country}} </mat-cell>
      </ng-container>

      <!-- Pledge Amount Column -->
      <ng-container matColumnDef="amount">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('amount')"> AMOUNT ($)</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.amount}} </mat-cell>
      </ng-container>

      <!-- Approver Column -->
      <ng-container matColumnDef="approver">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('approvedBy')"> APPROVER </mat-header-cell>
        <mat-cell *matCellDef="let element" style="text-transform: capitalize"> {{element.approvedBy}} </mat-cell>
      </ng-container>

      <!-- Start Date Column -->
      <ng-container matColumnDef="startDate">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('startDate')"> START DATE </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.startDate}} </mat-cell>
      </ng-container>


      <!-- End Date Column -->
      <ng-container matColumnDef="endDate">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('endDate')"> END DATE </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.endDate}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="action">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader"> ACTION </mat-header-cell>
        <mat-cell *matCellDef="let element" style="padding-right: 25px;">
          <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
          <button mat-raised-button class="recordLegalIcon" matTooltip="Initiate AR"><i class="fa fa-money"
              aria-hidden="true"></i></button>
        </mat-cell>
      </ng-container>


      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; let j = index; columns: displayedColumns;" (click)="selectRow(row,j)"></mat-row>

    </mat-table>
    <div>
      <ul *ngIf="pager.pages && pager.pages.length" class="pagination" style="float:right; margin-right: 20px;">
        <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
          <button mat-raised-button class="paginationBtn" (click)="setPage(page)">{{page}}</button>
        </li>
        <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
          <button mat-raised-button class="paginationBtn" (click)="setPage(pager.currentPage + 1)"
            style="border: 1px solid #27aaf5;">></button>
        </li>
      </ul>
    </div>
  </div>
</div>

<form [formGroup]="initiateARForm" (ngSubmit)="onARSubmit()" style="margin-left: 20px;" *ngIf="isRowClicked">
  <div class="form-group" style="padding-top: 20px;    width: 35%;    ">
    <!-- Pledge Id Column -->
    <div>
      <label class="form-label">PLEDGE ID:</label>
      <input type="text" formControlName="pledgeId" class="form-control" style="float: right;
                      width: 210px;    height: 36px;" value={{rowData.pledgeId}} disabled>
    </div>
    <br />
    <!-- donorName Column -->
    <div>
      <label class="form-label">DONOR NAME:</label>
      <input type="text" formControlName="donorName" class="form-control" style="float: right;
                    width: 210px;    height: 36px;" value={{rowData.donorName}} disabled>
    </div>
    <br />
    <!-- Country Column -->
    <div>
      <label class="form-label">COUNTRY:</label>
      <input type="text" formControlName="country" class="form-control" style="float: right;
                      width: 210px;    height: 36px;" value={{rowData.country}} disabled>
    </div>
    <br />

    <!-- pledgeType Column -->
    <div>
      <label class="form-label">FUND TYPE:</label>
      <input type="text" formControlName="pledgeFundType" class="form-control" style="float: right;
                      width: 210px;    height: 36px;" value={{rowData.pledgeFundType}} disabled>
    </div>
    <br />
    <!-- Account No Column -->
    <div>
      <label class="form-label">ACCOUNT NO.: <span class="required">*</span></label>
      <input type="text" formControlName="accountNo" class="form-control" style="float: right;
                      width: 210px;    height: 36px;">
    </div>
    <br />
    <!-- Bank name Column -->
    <div>
      <label class="form-label">BANK NAME: <span class="required">*</span></label>
      <select formControlName="bankName" class="form-control " style="float: right;
      width: 210px;    height: 36px;" value={{rowData.bankName}}>
        <option value="SBI" selected>SBI</option>
        <option value="Wells Fargo">Wells Fargo</option>
        <option value="City">City</option>
        <option value="RBI">RBI</option>
      </select>
    </div>
    <br />
    <div>
      <label class="form-label">START DATE:</label>
      <input type="text" formControlName="startDate" class="form-control" style="float: right;
                  width: 210px;    height: 36px;" value={{rowData.startDate}} disabled>
    </div>
    <br />
    <div>
      <label class="form-label">END DATE:</label>
      <input type="text" formControlName="endDate" class="form-control" style="float: right;
                  width: 210px;    height: 36px;" value={{rowData.endDate}} disabled>
    </div>
    <br />
    <div>
        <div style="display:inline-grid"> 
      <label class="form-label" style="margin-bottom: 0px;">AMOUNT: </label>
      <span style="font-size: 11px">(USD)</span>
    </div>
      <input type="text" formControlName="amount" class="form-control" style="float: right;
        width: 210px;    height: 36px;" value={{rowData.amount}} disabled>
        
    </div>
    <br />
    <div>
      <label class="form-label">PAYMENT PERIOD:</label>
      <input type="text" formControlName="paymentPeriod" class="form-control" style="float: right;
       width: 210px;    height: 36px;" value={{rowData.paymentPeriod}} disabled>
    </div>
    <br />
    <div>
      <label class="form-label">INSTALLMENTS:</label>
      <input type="text" formControlName="installments" class="form-control" style="float: right;
                  width: 210px;    height: 36px;" value={{rowData.installments}} disabled>
    </div>
    <br />
    <div style="display: inline-flex;     margin-left: 225px; margin-top: 10px;">
        <div class="form-group" style="    float: right;
        padding-top: 10px;
        padding-right: 30px;">
        <button mat-raised-button class="initiatePledgeForm-submitBtn" style="outline: none"
        >Submit</button>
      </div>

      <div class="form-group" style="    float: right;
        padding-top: 10px;
        padding-right: 115px; ">
        <button mat-raised-button class="initiatePledgeForm-submitBtn" style="outline: none" (click)="onCancel()">Cancel</button>
      </div>

      
    </div>
  </div>
</form>