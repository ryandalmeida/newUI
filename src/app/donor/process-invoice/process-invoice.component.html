<div *ngIf="!isRowClicked">
  <mat-card class="col-md-11" style="max-width: 95.666667%;margin: 20px;">
    <div>
        <form [formGroup]="searchForm" (ngSubmit)="searchProcessInvoice()">

            <div style="display: inline-flex;" class="col-md-12" style="padding: 0px">
              <div class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage"
                [class.search-formField-close]="!childMessage">
                <label class="searchForm-label space">Fund Type</label>
                <select  formControlName="pledgeFundType" class="form-control"
                  [class.pledgeFundType-select-open]="childMessage" [class.pledgeFundType-select-close]="!childMessage">
                  <option value="" disabled selected>Select fund type name</option>
                   <option value="Regular" selected>Regular</option>
                  <option value="Additional Contribution">Additional Contribution</option>
                </select>
              </div>
    
              <div class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage"
                [class.search-formField-close]="!childMessage">
                <label class="searchForm-label space" style="margin-right: 10px;">Pledge ID</label>
                <input  formControlName="pledgeId" placeholder="Enter pledge ID" class="form-control" [class.donorName-input-open]="childMessage"
                  [class.donorName-input-close]="!childMessage">
              </div>
    
              <div class="col-md-4" style="display: inline-flex;" [class.search-formField-open]="childMessage"
                [class.search-formField-close]="!childMessage">
                <label class="searchForm-label space">Program Name</label>
                <select formControlName="programName" class="form-control" [class.country-select-open]="childMessage"
                  [class.country-select-close]="!childMessage">
                  <option value="" disabled selected>Select program name</option>
                  <option value="Carbon Emission Reduction" selected>Carbon Emission Reduction</option>
                  <option value="Carbon Footprint">Carbon Footprint</option>
                </select> 
              </div>
    
         <!--      <div class="col-md-3" style="display: inline-flex;" [class.search-formField-open]="childMessage"
                [class.search-formField-close]="!childMessage">
                <label class="searchForm-label space">Payment Period:</label>
                <input  formControlName="paymentPeriod" class="form-control" [class.status-select-open]="childMessage"
                  [class.status-select-close]="!childMessage">
              </div> -->
            </div>
    
            <div style="display: inline-flex; margin-top: 10px;" class="col-md-12" >
    
            <!--   <div class="col-md-3" style="display: inline-flex;" [class.search-formField-open]="childMessage"
                [class.search-formField-close]="!childMessage">
                <label class="searchForm-label space">Install ments:</label>
                <input  formControlName="installments" class="form-control" [class.invoice_no-input-open]="childMessage"
                  [class.invoice_no-input-close]="!childMessage" >
              </div> -->
    
              <div class="col-md-4" style="display: inline-flex;padding-left: 0px;" [class.search-formField-open]="childMessage"
                [class.search-formField-close]="!childMessage">
                <label class="searchForm-label" style="padding-right: 12px;">Amount</label>
                <input  formControlName="amount" placeholder="Enter amount" class="form-control" [class.ar-input-open]="childMessage"
                  [class.ar-input-close]="!childMessage">
              </div>
    
              <div class="col-md-4" style="display: inline-flex;padding-left: 10px;" [class.search-formField-open]="childMessage"
                [class.search-formField-close]="!childMessage">
                <label class="searchForm-label" >Start Date</label>
                <input  type="date" formControlName="startDate" class="form-control"
                  [class.startDate-input-open]="childMessage" [class.startDate-input-close]="!childMessage" >
              </div>
    
              <div class="col-md-4" style="display: inline-flex;padding-left: 20px;    padding-right: 0px;" [class.search-formField-open]="childMessage"
                [class.search-formField-close]="!childMessage">
                <label class="searchForm-label" style="padding-right: 40px !important; " >End Date</label>
                <input  type="date" formControlName="endDate" class="form-control" [class.endDate-input-open]="childMessage"
                  [class.endDate-input-close]="!childMessage" >
              </div>
            </div>
    
             <!-- <div style="margin-top: 10px; display: inline-flex;" class="col-md-12">
              <div class="col-md-11"></div>
              <button class="col-md-1" mat-raised-button [class.searchBtn-open]="childMessage"
                [class.searchBtn-close]="!childMessage">
                <i class="fa fa-search" aria-hidden="true"></i>Search</button>
            </div>  -->
    
            <div class="form-group" style="margin-top: 10px;    margin-right: 2%;height: 25px;">
                <button  style= "margin-right: 15px;max-width: 90px;" class="col-md-1" 
                mat-raised-button [class.searchBtn-open]="childMessage" [class.searchBtn-close]="!childMessage">
                  <i class="fa fa-search" aria-hidden="true"></i>Search</button>
                  <button style= "  max-width: 90px;"  class="col-md-1" mat-raised-button
                 [class.searchBtn-open]="childMessage" [class.searchBtn-close]="!childMessage" (click)="cancelLegal()" >
                    <i class="fa fa-times" aria-hidden="true" style="font-size: 18px;
                    margin-top: -4px;
                    padding-right: 7px;
                    font-weight: 500;"></i>Cancel</button>
            </div> 
    
          </form>
    </div>
  </mat-card>

  <div class="example-container mat-elevation-z8" style="margin:20px;">
    <mat-table [dataSource]="dataSource" matSort>

      <!-- <ng-container matColumnDef="select">
              <mat-header-cell *matHeaderCellDef>
               <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()"
                  [indeterminate]="selection.hasValue() && !isAllSelected()" [aria-label]="checkboxLabel()">
                </mat-checkbox> 
              </mat-header-cell> 
              <mat-cell *matCellDef="let row">
            <mat-checkbox (click)="$event.stopPropagation(); store();" (change)="$event ? selection.toggle(row) : null"
                  [checked]="selection.isSelected(row)" [aria-label]="checkboxLabel(row)">
                </mat-checkbox> 
              </mat-cell> 
            </ng-container>-->



      <!-- Position Column -->
      <ng-container matColumnDef="pledgeId">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('pledgeId')"> PLEDGE ID </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.pledgeId}} </mat-cell>
      </ng-container>


      <ng-container matColumnDef="donorName">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('donorName')"> DONOR NAME </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.donorName}} </mat-cell>
      </ng-container>

      <!-- ARID Column -->
      <ng-container matColumnDef="ar_id">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('arId')"> AR NO. </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.arId}}</mat-cell>
      </ng-container>

      <!-- ARID Column -->
      <ng-container matColumnDef="invoice_no">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('invoiceId')"> INVOICE NO. </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.invoiceId}}</mat-cell>
      </ng-container>

      <!-- AMOUNT-DEBIT Column -->
      <ng-container matColumnDef="debit">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('debit')"> DEBIT </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.debit}} </mat-cell>
      </ng-container>

        <!-- AMOUNT-DEBIT Column -->
        <ng-container matColumnDef="creditAmount">
          <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('creditAmount')"> CREDIT </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.creditAmount}} </mat-cell>
        </ng-container>

      <ng-container matColumnDef="pledgeFundType">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('pledgeFundType')"> FUND TYPE </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.pledgeFundType}} </mat-cell>
      </ng-container>

      <!-- Country Column -->
      <ng-container matColumnDef="country">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('country')"> COUNTRY </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.country}} </mat-cell>
      </ng-container>

      <!-- Installment Column -->
      <ng-container matColumnDef="installment_no">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('installmentNo')"> INSTALLMENTS </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.installmentNo}} </mat-cell>
      </ng-container>

      <!-- startDate Column -->
      <ng-container matColumnDef="startDate">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('startDate')"> START DATE </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.startDate}} </mat-cell>
      </ng-container>

      <!-- endDate Column -->
      <ng-container matColumnDef="endDate">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader" (click)="tableSort('endDate')"> END DATE </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.endDate}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="payBtn">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="tableHeader">ACTION </mat-header-cell>
        <mat-cell *matCellDef="let element" style="padding-right: 40px;padding-left: 0px;">
          <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
          <button (click)="selectRowBtn(row)" class="recordLegalIcon" matTooltip="Pay"><i class="fa fa-file-text-o"
              aria-hidden="true"></i></button>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selectRow(row)"></mat-row>


    </mat-table>
    <div>
      <ul *ngIf="pager.pages && pager.pages.length" class="pagination" style="float:right; margin-right: 20px;">
        <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
          <button mat-raised-button class="paginationBtn" (click)="setPage(page)">{{page}}</button>
        </li>
        <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
          <button mat-raised-button class="paginationBtn" (click)="setPage(pager.currentPage + 1)"
            style="border: 1px solid #27aaf5;">></button>
        </li>
      </ul>
    </div>
  </div>
</div>



<div *ngIf="isRowClicked">

  <form [formGroup]="paymentForm" style="margin-left: 20px;" class="col-md-11"  *ngIf="isRowClicked">
    <div class="form-group" style="padding-top: 20px;    width: 40%;    ">


      <div>
        <label class="form-label">Pledge ID:</label>
        <input type="text" disabled formControlName="pledgeId" class="form-control" style="float: right;
                              width: 210px;    height: 36px;" value={{rowData.pledgeId}}>
      </div>
      <br />
      <div>
        <label class="form-label">Donor Name:</label>
        <input type="text" disabled formControlName="donorName" class="form-control" style="float: right;
                          width: 210px;    height: 36px;" value={{rowData.donorName}}>
      </div>
      <br />

      <div>
        <label class="form-label">AR No:</label>

        <input type="text" disabled formControlName="arId" class="form-control" style="float: right;
                        width: 210px;    height: 36px;" value={{rowData.arId}}>

      </div>
      <br />
      <div>
        <label class="form-label">Invoice No:</label>

        <input type="text" disabled formControlName="invoiceId" class="form-control" style="float: right;
                          width: 210px;    height: 36px;" value={{rowData.invoiceId}}>

      </div>
      <br />
      <div>
        <label class="form-label">Country:</label>
        <input type="text" disabled formControlName="country" class="form-control" style="float: right;
                          width: 210px;    height: 36px;" value={{rowData.country}}>
      </div>

      <br />
      <div>
        <label class="form-label">Start Date:</label>
        <input type="text" disabled formControlName="startDate" class="form-control" style="float: right;
                      width: 210px;    height: 36px;" value={{rowData.startDate}}>

      </div>

      <br />
      <div>
        <label class="form-label">End Date:</label>
        <input type="text" disabled formControlName="endDate" class="form-control" style="float: right;
                      width: 210px;    height: 36px;" value={{rowData.endDate}}>
      </div>

      <br />
      <div>
        <label class="form-label"> Debit Amount:</label>
        <input type="text" disabled formControlName="debit" class="form-control" style="float: right;
            width: 210px;    height: 36px;" value={{rowData.debit}}>
      </div>

      <br />
      <div>
        <label class="form-label">Credit Amount:</label>
        <input type="text" disabled formControlName="creditAmount" class="form-control" style="float: right;
            width: 210px;    height: 36px;" value={{rowData.creditAmount}}>
      </div>

      <br />
      <div>
        <label class="form-label">Installment No:</label>

        <input type="text" disabled formControlName="installmentNo" class="form-control" style="float: right;
            width: 210px;    height: 36px;" value={{rowData.installmentNo}}>

      </div>

     


    </div>

   <!--  <br /> -->

    <div style="display: inline-flex;     margin-left: 180px; margin-top: 10px;">
      <div class="form-group" style="    float: right;
            padding-top: 10px;
            padding-right: 30px; ">
        <button mat-raised-button class="initiatePledgeForm-submitBtn" (click)="onCancel()">Cancel</button>
      </div>


      <div class="form-group" style="    float: right;
            padding-top: 10px;
            padding-right: 115px;">
        <button mat-raised-button class="initiatePledgeForm-submitBtn" (click)="onPay(rowData)">Pay</button>

      </div>
    </div>


  </form>

<!-- </div> -->